# JWT

> 인증 (Authentication)
  - 쉽게 말해서 로그인
  - 아이디랑 패스워드를 통해서 인증을 받는 거임
  - 

> 인가 (Aurthoizaiton)
  - 이렇ㄱ 한번 인증받으 사용작 이후 서비스의 여러기능을 사용할때 로기인이 유지되느 상태엣 일어나는 일
  - JWT는 인가와 관련
 
 > 세션
  - 전통적으로 많ㅇ 사용된 방식이다. 
  - 사용작 로그인에 성공하며, 서버느 '세션 표딱지'라느 걸 출력한다. 
  - 반은 자기서버 (메모리) 반으 사용자(브라우저)로 보낸다. 
  - 브로우저는 이 표를 session ID란 이름의 쿠키 저장 (쿠키란 브라우정 저장되느 정보)
  - 브라우저는 사이트에 요청을 보낼때 이 session ID를함께 실어 보낸다. 
  - 서버는 서버 갖고 있는 정보와 비교해서 맞으면 인가를 해주느 것이다. 
  - 단점은(메모리에 저장시): 접속자가 많아지면 메모리가 부족해진다. 메모리는 서버가 꺼지면 메모리에있느 정보가 날라감. 
  - 단점은(하드): 매 요청마다 매번 하드를 통해서 확인하면 느리다. 서버를 여러대일때 서비스 할때는 그리고 인증으 1번하드로 했는데 2번하드로 서비스를 이용하면 세션 유지 안됨
  - 단점은(데이터베이스): 에두면 속도가 많이 느려짐
  
  이런 문제점을 해결하기 위해서 
 > JWT (JSON WEB TOken)
  - 웹토큰은 사용작 로그인을 하면 토큰이랑 표를 출력햇 준다. 서버느 이 토큰으 기억하지 않는다. 
  - xxx.yyyy.zzz 이런식으로 구성됨 헤더.페이로드.서명 으로 구성됨
  - 페이로드는 누가 누구에세 발급 언제깢 유요한지 등의 정보(claim)
  - 헤더는 type고 이건 언제나 JWT alg (서버만 알고 있는 비밀키로 암호화)
  - 시간에 따라 바뀌느 상태값을 안같는것을 statless이다. 
  - 단점: 통제가 안된다..JWT는..해결방법은 만료시간을 준다.
  - 그래서 로그인시 두가지 토큰을 준다. 수명이 매우 짧은(몇분 몃시간) access token(매번 인가를 받을 때 쓰는) 이랑 2주 정도 되느 refresh token(엑세스 토큰을 재 발급 받을ㄸ 스느 거느 리프레쉬토큰)
  
    
